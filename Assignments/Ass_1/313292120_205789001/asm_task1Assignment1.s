section .data                       ; ...
        x: dd 0                     ; ... 
        z: dd 0                     ; ...
        fmt:  db "the returned number is: %d", 0      ;; char result[] = "the returned number is: %d";

section .text                       ; ...
            global assFunc          ; ...
            extern printf
            extern check_validity

assFunc:                            ; ...
        push ebp              		; save Base Pointer (bp) original value
        mov ebp, esp         		; use Base Pointer to access stack contents (do_Str(...) activation frame)
        pushad                   	; push all signficant registers onto stack (backup registers values)
        mov ecx, dword [ebp+8]		; get function argument on stack. Now ecx points to the function argument.
        mov dword [x], ecx          ; ...
        mov ebx, ecx

        push dword [x]        ;   push the value of eax
        call check_validity;   check_validity method is called which will put return value in eax
        mov  edx, eax      ;    move the return value to edx
        pop  eax           ;    restore original eax

    back:                           ; ...
        cmp edx, 1                  ; ...
        jnz odd                     ; ...
        mov ebx, dword [x]                ; ...
        sal ebx, 2                  ; ...
        mov dword [z], ebx                ; ...
        jmp print                   ; jump to print.
    odd:                            ; ...
        mov ebx, dword [x]                ; ...
        sal ebx, 3                  ; ...
        mov dword [z], ebx                ; ...
        
    print:                          ; ...
        push dword [z]
        push fmt
        call printf
        add esp, 8

        popad                    	; restore all previously used registers
        mov esp, ebp			    ; free function activation frame
        pop ebp				        ; restore Base Pointer previous value (to returnt to the activation frame of main(...))
        ret				            ; returns from do_Str(...) function




